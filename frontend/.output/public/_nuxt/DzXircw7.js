import{r as v,x as B,k as C,c as m,o as u,b as t,w as e,d as l,F as P,C as S,z as w,t as _,a as r,V as p,D as h,B as y}from"./Bh59aRpc.js";import{V as D}from"./BvlIk6eM.js";import{a as c,b as k,c as V,V as g}from"./cefNi3wq.js";import{V as N}from"./BD5Biss3.js";import{V as $}from"./DNJGKzx0.js";/* empty css        */const T={class:"d-flex align-center mb-2"},F=["src"],j={__name:"AppBlog",setup(b){const d=v([]),x=B(),a=v(1),f=v(1),i=async()=>{try{const n=new URLSearchParams;n.append("page",a.value);const o=await x.getWithString(`blog/posts/?${n.toString()}`);d.value=o.results,f.value=Math.ceil(o.count/10)}catch(n){console.error("Ошибка при загрузке постов:",n)}},A=n=>{console.log("Просмотр поста с ID:",n)};return C(i),(n,o)=>(u(),m("div",null,[t(c,null,{default:e(()=>[o[1]||(o[1]=l(" Новости ")),t(D)]),_:1}),(u(!0),m(P,null,S(d.value,s=>(u(),w(g,{key:s.id,class:"mb-4"},{default:e(()=>[t(c,null,{default:e(()=>[l(_(s.title),1)]),_:2},1024),t(k,null,{default:e(()=>[r("div",T,[t($,{size:"40",class:"mr-2"},{default:e(()=>[r("img",{src:s.author.avatar,alt:"Avatar"},null,8,F)]),_:2},1024),r("span",null,_(s.author.username),1)]),r("div",null,_(s.content),1)]),_:2},1024),t(V,null,{default:e(()=>[t(p,{color:"primary",onClick:L=>A(s.id)},{default:e(()=>o[2]||(o[2]=[l("Читать далее")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),t(N,{modelValue:a.value,"onUpdate:modelValue":[o[0]||(o[0]=s=>a.value=s),i],length:f.value,"total-visible":5},null,8,["modelValue","length"])]))}},z={key:0},E={key:1},I={class:"mt-6"},G={__name:"index",setup(b){const d=h();return(x,a)=>{const f=j;return u(),m("div",null,[t(g,{class:"mb-6"},{default:e(()=>[t(c,{class:"text-h4"},{default:e(()=>a[0]||(a[0]=[l("Добро пожаловать в Vuetify Nuxt + Django интеграцию")])),_:1}),t(k,null,{default:e(()=>a[1]||(a[1]=[r("p",null,"Это демонстрация интеграции Vuetify Nuxt фронтенда с Django REST Framework бэкендом с использованием OpenAPI для генерации типов.",-1)])),_:1})]),_:1}),y(d).isAuthenticated?(u(),m("div",z,[t(g,null,{default:e(()=>[t(c,{class:"text-h5"},{default:e(()=>{var i;return[l("Добро пожаловать, "+_((i=y(d).user)==null?void 0:i.username),1)]}),_:1}),t(V,null,{default:e(()=>[t(p,{color:"primary",to:"/dashboard","prepend-icon":"mdi-view-dashboard"},{default:e(()=>a[2]||(a[2]=[l(" Перейти в панель управления ")])),_:1}),t(p,{color:"secondary",to:"/patients","prepend-icon":"mdi-account-group",class:"ml-2"},{default:e(()=>a[3]||(a[3]=[l(" Управление пациентами ")])),_:1})]),_:1})]),_:1})])):(u(),m("div",E,[t(g,null,{default:e(()=>[t(c,{class:"text-h5"},{default:e(()=>a[4]||(a[4]=[l("Начало работы")])),_:1}),t(V,null,{default:e(()=>[t(p,{color:"primary",to:"/login","prepend-icon":"mdi-login"},{default:e(()=>a[5]||(a[5]=[l(" Войти ")])),_:1}),t(p,{color:"secondary",to:"/register","prepend-icon":"mdi-account-plus",class:"ml-2"},{default:e(()=>a[6]||(a[6]=[l(" Зарегистрироваться ")])),_:1})]),_:1})]),_:1})])),r("div",I,[t(f)])])}}};export{G as default};
